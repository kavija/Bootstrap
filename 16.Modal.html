<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Other Components</title>
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
    <script src="scripts/jquery-1.7.1.min.js"></script>
    <script src="bootstrap/js/bootstrap.js"></script>
</head>
<body>
        <h2 id="modal">Modals</h2>
        <!-- href should match the div that acts as modal dialog -->
        <!-- data-toggle="modal" specifies that it is a modal dialog -->
        <a href="#themodal" role="button" class="btn btn-primary" data-toggle="modal">Launch a modal dialog</a>
        <!-- "modal" specifies that it is a modal dialog -->
        <!-- "hide" hides the modal dialog at initial state -->
        <!-- "fade" controls the fade in/out efforts -->
        <div id="themodal" class="modal hide fade">
            <!-- "modal-header" controls the modal header  -->
            <div class="modal-header">
                <!-- data-dismiss="modal" specifies that it would close the dialog  -->
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3>Modal header</h3>
            </div>
            <!-- "modal-body" controls the modal dialog body  -->
            <div class="modal-body">
                <p>Are you sure you want to do this?</p>
                <!-- "progress" makes it as a progress bar -->
                <div class="progress progress-striped">
                    <div id="doitprogress" class="bar"></div>
                </div>
            </div>
            <!-- "modal-footer" controls the modal dialog footer  -->
            <div class="modal-footer">
                 <!-- data-dismiss="modal" specifies that it would close the dialog  -->
                <a href="#" class="btn" data-dismiss="modal">Close</a>
                <!-- Yes button would update the progress bar and close the modal dialog -->
                <a id="yesbutton" href="#" class="btn btn-primary" data-loading-text="Doing it...">
                    Yes! Do it now!
                </a>
            </div>
        </div>

        <script>
            $(function () {
                var yesButton = $("#yesbutton");
                var theModal = $("#themodal");
                var progress = $("#doitprogress");

                yesButton.click(function () {
                    //sets the button text as loading
                    yesButton.button("loading");
                    var counter = 0;
                    var countDown = function () {
                        counter++;
                        if (counter == 11) {
                            //resets the button text to initial value
                            yesButton.button("reset");
                            //hides the modal dialog
                            theModal.modal("hide");
                        }
                        else {
                            //updates the progress bar value
                            progress.width(counter * 10 + "%");
                            setTimeout(countDown, 500);
                        }
                    };
                    setTimeout(countDown, 500);
                });
            });
        </script>
</body>
</html>